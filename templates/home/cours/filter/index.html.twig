{% extends 'home/homeLayout.html.twig' %}
{% import 'home/components/cours/coursGrid.html.twig' as courGrid %}
{% block stylesheets %}
	{{ parent() }}
	<link rel="stylesheet" href="{{ asset('css/filter_page.css') }}">
{% endblock %}


{% block body %}


	<div class="filter_page">


		<div class="filter_header" style="background-image: url({{ asset('images/filter/header.png')}})">
			<div class="seach_bar_holder">
				<input type="text" class="form-control search_bar">
			</div>
		</div>

		<div class="content">
			<div class="container">
				<div class="row">
					<div class="col-md-3" style="padding-right: 0;">


						<div class="filter_side_bar">
							<h3>Categories</h3>
							<ul class="categories">
								{% for category in getCategories() %}
									<li>
										<div>
											<span class="cat_title">
												<a href="#">{{ category.nom }}</a>
											</span>
										</div>
										{% for subcategoryArray in getSubcategories(category) %}
											<li>
												<div>
													<span class="cat_title">
														<a href="#">{{ subcategoryArray.subcategory }}</a>
													</span>
												</div>
												{# 
																									
																								#}
											</li>
										{% endfor %}
									</li>
								{% endfor %}
							</ul>

						</div>
					</div>
					<div class="col-md-9" style="padding-left: 0;">
						<div>
							<div class="top_filter">
								<div class=" sort_by">
									<label class="form-label">Trier par</label>
									<select class="form-select">
										<option selected>Par nom</option>
										<option value="1">date d'ajoute</option>
										<option value="2">rating</option>
									</select>
								</div>
								<div class="display_mode">
									<div class="single selected">
										<i class="fa-solid fa-grip"></i>
									</div>
									<div class="single">
										<i class="fa-solid fa-list"></i>
									</div>

								</div>

							</div>
						</div>


						<div class="container-fluid">
							<div class="row">


								{% for cours in data %}
									<div class="col-md-4">
										{{ courGrid.displayCourse(cours) }}
									</div>
								{% endfor %}
							</div>

						</div>

						<div class="pagination">

							<nav aria-label="Page navigation">
								<ul class="pagination">

									{% if currentPage > 1 %}
										<li class="page-item">
											<a class="page-link" href="{{ path('home_cours_filter_index', {'page': currentPage - 1}) }}">Précédent</a>
										</li>
									{% endif %}
									{% for page in 1..totalPages %}
										<li class="page-item {% if page == currentPage %}active{% endif %}">
											<a class="page-link" href="{{ path('home_cours_filter_index', {'page': page}) }}">{{ page }}</a>
										</li>
									{% endfor %}
									{% if currentPage < totalPages %}
										<li class="page-item">
											<a class="page-link" href="{{ path('home_cours_filter_index', {'page': currentPage + 1}) }}">Suivant</a>
										</li>
									{% endif %}

								</ul>
							</nav>
						</div>
					</div>

				</div>

			</div>


		</div>
	</div>
{% endblock %}
